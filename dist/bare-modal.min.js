class BareModal{constructor(){document.addEventListener("DOMContentLoaded",(()=>{this.initModals(),this.initTimedModals()}))}initModals(){document.querySelectorAll("[data-modal-trigger]").forEach((t=>{const e=t.getAttribute("data-modal-trigger"),o=document.getElementById(e);t.addEventListener("click",(()=>o.showModal())),this.bindButtonActions(o,e)}))}bindButtonActions(t,e){t.querySelectorAll("[data-modal-close], [data-modal-accept], [data-modal-cancel]").forEach((o=>{o.addEventListener("click",(o=>{let a="";o.target.hasAttribute("data-modal-close")?a="close":o.target.hasAttribute("data-modal-accept")?a="accept":o.target.hasAttribute("data-modal-cancel")&&(a="cancel");const i=t.getAttribute("data-modal-cookie-expire")||7;this.setCookie(`modalAction_${e}`,a,parseInt(i)),t.close()}))}))}initTimedModals(){document.querySelectorAll("dialog[data-modal-timed]").forEach((t=>{const e=t.getAttribute("data-modal-timed"),o=t.id;this.getCookie(`modalAction_${o}`)||setTimeout((()=>{t.showModal(),this.bindButtonActions(t,o)}),1e3*e)}))}setCookie(t,e,o){const a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3);const i="expires="+a.toUTCString();document.cookie=`${t}=${e};${i};path=/`}getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);return 2===e.length?e.pop().split(";").shift():null}}